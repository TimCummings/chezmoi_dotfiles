# don't "logout" (close window) with CTRL+D
setopt IGNORE_EOF

# immediately insert first match on ambiguos completion
setopt MENU_COMPLETE

# shorten escape timeout
KEYTIMEOUT=1

# emacs mode (for ctrl+A, ctrl+E)
# can still enter vim mode with ctrl+x then ctrl+v
bindkey -e

# ssh
# export SSH_KEY_PATH="~/.ssh/rsa_id"

# aliases
alias vzf='nvim $(fzf)'
if [[ $OSTYPE == "darwin"* ]]; then
  # MacOS
  alias ls='ls -G'
elif [[ "$OSTYPE" == "linux-gnu"* ]]; then
  alias l='ls -al --color'
fi

# git
alias g='git'
alias ga='git add'
alias gb='git branch'
alias gbc='git branch | cat'
alias gc='git commit -v'
alias gco='git checkout'
alias gd='git diff'
alias gdc='git diff --cached'
alias gf='git fetch'
alias gl='git log'
alias gsh='git show'
alias gst='git status'

# nnn file manager
alias nnn='nnn-nerd-static -eoR'

# highlight completion selection
zstyle ':completion:*' menu select

# asdf version manager
if [ -d "$ASDF_DIR" ]; then
  # append completions to fpath
  fpath=(${ASDF_DIR}/completions $fpath)
  # initialise completions with ZSH's compinit
  autoload -Uz compinit
  compinit
  # source the main script
  . $ASDF_DIR/asdf.sh
  # hook direnv into shell for faster asdf
  eval "$(direnv hook zsh)"
else
  echo "Asdf appears to not be installed, skipping."
fi

# starship prompt
eval "$(starship init zsh)"
